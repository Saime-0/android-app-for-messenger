query ProfileQuery {
    me {
        ... on AdvancedError {
            code
            error
        }
        ... on Me {
            employee {
                empID
                firstName
                lastName
                tags {
                    tags {
                        name
                        tagID
                    }
                }
            }
            personal {
                email
                phoneNumber
                token
            }
        }
    }
}

query EmployeeQuery($empID: ID!) {
    employees(find: {
        empID: $empID
    }) {
        ... on AdvancedError {
            error
            code
        }
        ... on Employees {
            employees {
                empID
                firstName
                lastName
                tags {
                    tags {
                        tagID
                        name
                    }
                }
            }
        }
    }
}

query MeRoomsList($offset: Int, $limit: Int) {
    me {
        ... on AdvancedError {
            code
            error
        }
        ... on Me {
            rooms(params: {
                offset: $offset
                limit: $limit
            }) {
                rooms {
                    roomID
                    name
                    view
                    lastMessageID
                    lastMessageRead
                }
            }
        }

    }
}

query RoomMessagesByCreated(
    $roomID: ID!
    $count: Int!
    $created: MsgCreated!
    $startMsg: ID!
) {
    roomMessages(
        byCreated: {
            roomID: $roomID
            count:$count
            created: $created
            startMsg: $startMsg
        }
    ) {
        ... on AdvancedError {
            error
            code
        }
        ... on Messages {
            ...MessagesForRoom
        }
    }
}

query RoomMessagesByRange(
    $roomID: ID!
    $start: ID!
    $end: ID!
) {
    roomMessages(
        byRange: {
            roomID: $roomID
            start: $start
            end: $end
        }
    ) {
        ... on AdvancedError {
            error
            code
        }
        ... on Messages {
            ...MessagesForRoom
        }
    }
}
fragment MessagesForRoom on Messages {
    messages {
        msgID
        room {
            roomID
        }
        employee {
            empID
        }
        targetMsg {
            msgID
        }
        body
        createdAt
        prev
        next
    }
}